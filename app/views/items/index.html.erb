<div class="container-fluid">
  <div class="row">
    <div class="col d-flex flex-column" style="max-height: 100vh">
      <%= render partial: 'layouts/header' %>
      <div class="row my-1 my-md-2">
        <div class="col-auto m-auto d-none d-xl-block">
          <div class="list-group list-group-horizontal">
            <% @categories.each do |category| %>
              <% active = category == @category %>
              <%= render partial: 'category', locals: { category: category, active: active } %>
            <% end %>
            <% if @admin %>
              <%= link_to "+", new_category_path,
                class: "list-group-item list-group-item-action px-2",
                title: t('.new_category'),
                remote: true %>
            <% end %>
          </div>
        </div>
        <div class="col-auto m-auto d-xl-none">
          <div class="list-group list-group-horizontal">
            <% classes = "list-group-item list-group-item-action no-wrap py-1 align-self-center"%>
            <%= link_to @category.name, list_categories_path,
              id: "category-#{@category.id}",
              class: "#{classes} active",
              remote: true
            %>
            <% if @admin && @category != Category.default %>
              <%= link_to edit_category_path(@category),
                id: "edit-category-#{@category.id}",
                remote: true,
                style: 'border-left: none',
                class: "#{classes} px-2" do %>
                <%= fa_icon 'pencil' %>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
      <div class="row flex-grow-1 justify-content-center overflow-auto">
        <div class="col-xs-12 col-md-10 col-xl-8">
          <% if @admin %>
            <div class="row my-1 my-md-2">
              <div class="col-12 col-md-4 offset-md-4 text-center">
                <% category = @category.is_a?(String)? Category.find_by_name(@category) : @category %>
                <%= link_to t('.new_item'), new_item_path(category: category.name), remote: true %>
              </div>
            </div>
          <% end %>
          <div class="row">
            <div class="col">
              <ul class="list-group" id="items_list">
                <% @items.each do |item| %>
                  <%= render partial: 'item', locals: { item: item } %>
                <% end %>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>